file(GLOB SRCS ${CMAKE_CURRENT_SOURCE_DIR}/*.cpp)
file(GLOB HDRS ${CMAKE_CURRENT_SOURCE_DIR}/*.h)

list(APPEND TARGET_PROJECT_SOURCES ${SRCS})
list(APPEND TARGET_PROJECT_SOURCES ${HDRS})

list(APPEND TARGET_INCLUDE_DIRS ${CMAKE_CURRENT_SOURCE_DIR})

if(EMSCRIPTEN)
    list(APPEND TARGET_DEFINITIONS "__EMSCRIPTEN__=1")
    if(VR)
        list(APPEND TARGET_DEFINITIONS "__VR__=1")
    endif()
    add_subdirectory(emscripten)
elseif(WIN32)
    if(ARCH_64)
        list(APPEND TARGET_DEFINITIONS "__WINDOWS64__=1")
        if(OCULUS)
            list(APPEND TARGET_DEFINITIONS "__VR__=1")
        endif()
        add_subdirectory(win64)
    else()
        list(APPEND TARGET_DEFINITIONS "__WINDOWS32__=1")
        if(OCULUS)
            list(APPEND TARGET_DEFINITIONS "__VR__=1")
        endif()
        add_subdirectory(win32)
    endif()
elseif(APPLE)
    if(IOS)
        list(APPEND TARGET_DEFINITIONS "__IPHONEOS__=1")
        if(VR)
            list(APPEND TARGET_DEFINITIONS "__VR__=1")
        endif()
        add_subdirectory(ios)
    elseif(TVOS)
        list(APPEND TARGET_DEFINITIONS "__APPLETVOS__=1")
        add_subdirectory(appletvos)
    else()
        list(APPEND TARGET_DEFINITIONS "__MACOS__=1")
        if(OCULUS)
            list(APPEND TARGET_DEFINITIONS "__VR__=1")
        endif()
        add_subdirectory(macos)
    endif()
elseif(UNIX AND NOT APPLE AND NOT ANDROID)
    if(LINUX)
        list(APPEND TARGET_DEFINITIONS "__LINUX__=1")
        if(OCULUS)
            list(APPEND TARGET_DEFINITIONS "__VR__=1")
        endif()
        add_subdirectory(linux)
    elseif(UNIX)
        list(APPEND TARGET_DEFINITIONS "__UNIX__=1")
        add_subdirectory(unix)
    endif()
elseif(ANDROID)
    list(APPEND TARGET_DEFINITIONS "__ANDROID__=1")

    add_subdirectory(android)
endif()
